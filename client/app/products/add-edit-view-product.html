<div class="container user-add-edit">
    <div class="container col-md-6">
        <h2>Product</h2>
        <form role="form">

            <div class="form-group">
                <label class="user-form-control-heading" >Available:</label>
                <input ng-disabled="mode=='view'" type="checkbox" checked ng-model="product.prod_available">
            </div>

            <div class="form-group row rounder-border">
                <div class="col-md-3">
                    <label class="user-form-control-heading"  for="name">Category:</label>     
                </div>
                
                <div ng-show="mode=='view'" class="col-md-3">
                    <span >{{product.prod_category_name}}</span>
                </div>

                <div class="col-md-6" ng-hide="mode=='view'  || addingCategory">
                    <select class="form-control"  ng-options="cat as cat.category_name for cat in categories track by cat.category_id" ng-model="product.prod_category_id" ng-change="categoryChange(event)">
                    </select>
                </div>

                <div class="col-md-6" ng-show="mode!='view' && addingCategory">
                    <input class="form-control" type="text" ng-model="newCategory" placeholder="Enter New Category Name">
                </div>

                <div class="col-md-3">
                    <button class="btn btn-primary btn-sm pull-left" ng-hide="mode=='view'" ng-click="addCategory()">{{addingCategory ? 'Save' : 'Add new'}}</button>
                    <button class="btn btn-danger btn-sm pull-right" ng-hide="mode=='view' || !addingCategory" ng-click="addingCategory=false">Close</button>
                </div>
                
            </div>

            <div class="form-group">
                <label class="user-form-control-heading"  for="email">Name :</label>
                <span ng-show="mode=='view'">{{product.prod_name}}</span>
                <input type="text" name="name" ng-model="product.prod_name" ng-show="mode!='view'" class="form-control" placeholder="Name">
            </div>

            <div class="form-group">
                <label class="user-form-control-heading"  for="name">Display Name:</label> <span ng-show="mode=='view'">{{product.prod_dispname}}</span>
                <input ng-show="mode!='view'" type="text" ng-model="product.prod_dispname" class="form-control" placeholder="Display Name">
            </div>

            <div class="form-group">
                <label class="user-form-control-heading" >Ingredients:</label> <span ng-show="mode=='view'">{{product.prod_ingredients}}</span>
                <input ng-show="mode!='view'" type="text" ng-model="product.prod_ingredients" class="form-control" placeholder="Ingredients">
            </div>

            <div class="form-group">
                <label class="user-form-control-heading" >Rate :</label>
                <span ng-show="mode=='view'">{{product.prod_rate}}</span>
                <input ng-show="mode!='view'" ng-model="product.prod_rate" class="form-control"
                placeholder="Product Rate" type="number">
            </div>

            <div class="form-group">
                <label class="user-form-control-heading" >Size:</label>
                <span ng-show="mode=='view'">{{product.prod_size}}</span>
                <input ng-show="mode!='view'" ng-init="product.prod_size=(product.prod_size)?product.prod_size:'SMALL'" ng-model="product.prod_size" class="form-control"
                type="text" placeholder="Size" type="text">
            </div>

            

            <div class="form-group">
                <label class="user-form-control-heading"  for="name">Product Description:</label> <span ng-show="mode=='view'">{{product.prod_desc}}</span>
                <input ng-show="mode!='view'" type="text" ng-model="product.prod_desc" class="form-control" placeholder="Product Description">
            </div>

             

            

            

            <div class="form-group">
                <label class="user-form-control-heading" >Product Prep. Time (sec)</label>
                <span ng-if="mode=='view'">{{product.prod_pre_max_time_sec}}</span>
                <input ng-if="mode!='view'" ng-init="product.prod_pre_max_time_sec=(product.prod_pre_max_time_sec)? product.prod_pre_max_time_sec : 600" ng-model="product.prod_pre_max_time_sec" class="form-control" placeholder="Product Prep. Time (sec)" type="number">
            </div>

            

            <div class="form-group">
                <label class="user-form-control-heading" >Veg/ Non-veg:</label>
                <span ng-if="mode=='view'">{{product.prod_veg_nonveg}}</span>
                <select ng-if="mode!='view'" ng-init="product.prod_veg_nonveg=(product.prod_veg_nonveg)?product.prod_veg_nonveg:'veg'" ng-model="product.prod_veg_nonveg">
                    <option value="VEG" selected>Veg</option>
                    <option value="NON-VEG" >Non-veg</option>
                </select>
                <!-- <input  ng-model="product.prod_veg_nonveg" class="form-control"
                type="text" placeholder="Veg/ Non-veg:"> -->
            </div>

            <div class="form-group">
                <label class="user-form-control-heading">Weight:</label> <span ng-show="mode=='view'">{{product.prod_weight}}</span>
                <input ng-show="mode!='view'" type="text" ng-model="product.prod_weight" class="form-control" placeholder="Weight">
            </div>

            <button type="button"  ng-click="reset(product)" class="btn btn-danger">Reset</button>
            <button ng-if="mode=='add'" type="button" ng-click="addProduct(product)" class="btn btn-default">Add</button>
            <button ng-if="mode=='edit'" type="button" ng-click="updateUser(product)" class="btn btn-default">Update</button>

            <button type="button" ui-sref="products.list" class="btn btn-default">Back</button>
        </form>
    </div>
</div>
